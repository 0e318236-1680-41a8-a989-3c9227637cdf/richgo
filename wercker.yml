build:
  box: golang
  steps:
    - setup-go-workspace:
      package-dir: github.com/kyoh86/richgo

    - script:
        name: test
        code: |
          make test

  after-steps:
    - slack-notifier:
        url: $SLACK_URL
        channel: wercker

cover:
  box: kyoh86/goveralls
  steps:
    - setup-go-workspace:
      package-dir: github.com/kyoh86/richgo

    - script:
        name: coverage
        code: |
          make cover
